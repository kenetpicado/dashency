import{b as k,o as x,w as V,e as r,i as t,l,m as i,f as a,n as v,T as B,F as c,j as o,t as T,q as w,R as p,g as f,x as d,h,k as C,v as N,y as $}from"./index-CLiKuHAO.js";import{u as F}from"./useBilling-2cdCAKOH.js";import{I as U}from"./IconEye-Cfh1mJmK.js";import{_ as g}from"./InputForm.vue_vue_type_script_setup_true_lang-D4OBlM8i.js";import{b as q}from"./banks-0GAEnnM3.js";import{_ as D}from"./PaginationComponent.vue_vue_type_script_setup_true_lang-CoxX_4IN.js";import"./query-params-C5SC1Cld.js";const R={class:"flex items-center justify-between mb-8 h-14"},j=t("span",{class:"font-bold text-2xl"},"Facturación",-1),A={class:"grid grid-cols-4 gap-4 mb-4"},E=t("option",{value:""},"Todos",-1),I=["value"],L=t("th",null,"Usuario",-1),P=t("th",null,"Fecha",-1),S=t("th",null,"Referencia",-1),z=t("th",null,"Cliente",-1),M=t("th",null,"Total",-1),W=t("th",null,"Acciones",-1),G={key:0},H=t("td",{colspan:"6",class:"text-center"},"No hay datos que mostrar",-1),J=[H],K={class:"flex gap-4"},le=k({__name:"BillingView",setup(O){const{getBilling:_,billing:u,queryParams:n}=F();x(()=>{_()}),V(n.value,()=>_(),{debounce:500,maxWait:1e3});function b(m){n.value.page=m*1}return(m,s)=>(o(),r(c,null,[t("header",R,[j,l(a(p),{to:{name:"billing.create"}},{default:i(()=>[l(T,null,{default:i(()=>[w(" Nueva ")]),_:1})]),_:1})]),t("div",A,[l(v,{text:"Banco",name:"bank",modelValue:a(n).bank,"onUpdate:modelValue":s[0]||(s[0]=e=>a(n).bank=e)},{default:i(()=>[E,(o(!0),r(c,null,f(a(q),e=>(o(),r("option",{value:e,key:e},d(e),9,I))),128))]),_:1},8,["modelValue"]),l(g,{text:"Código o referencia",name:"reference",modelValue:a(n).reference,"onUpdate:modelValue":s[1]||(s[1]=e=>a(n).reference=e),type:"search",placeholder:"Buscar código o referencia"},null,8,["modelValue"]),l(g,{text:"Cliente",name:"client",modelValue:a(n).client,"onUpdate:modelValue":s[2]||(s[2]=e=>a(n).client=e),type:"search",placeholder:"Buscar cliente"},null,8,["modelValue"])]),l(B,null,{header:i(()=>[L,P,S,z,M,W]),body:i(()=>[a(u).data.length?h("",!0):(o(),r("tr",G,J)),(o(!0),r(c,null,f(a(u).data,(e,y)=>(o(),r("tr",{key:y,class:"hover:bg-gray-50"},[t("td",null,[e.user&&typeof e.user!="string"?(o(),C(N,{key:0,item:e.user},null,8,["item"])):h("",!0)]),t("td",null,d(a($)(e.createdAt)),1),t("td",null,d(e.bank)+": "+d(e.reference),1),t("td",null,d(e.client),1),t("td",null,"$"+d(e.total),1),t("td",null,[t("div",K,[l(a(p),{to:{name:"billing.show",params:{id:e.id}}},{default:i(()=>[l(a(U),{size:"20"})]),_:2},1032,["to"])])])]))),128))]),_:1}),l(D,{pages:a(u).pages,page:a(u).current,onSelected:b},null,8,["pages","page"])],64))}});export{le as default};
