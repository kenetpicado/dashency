import{b as N,r as m,o as I,e as c,i as e,m as s,n as a,x as V,_ as q,T as B,F as x,k as u,v as p,l as O,p as w,h as g,q as U,f as _,t as n,G as z,g as M,I as P,z as f}from"./index-DoD9Z4gP.js";import{_ as v}from"./InputForm.vue_vue_type_script_setup_true_lang-BoxpC0zP.js";import{u as S}from"./useAccount-BYbPGXBO.js";import"./query-params-C5SC1Cld.js";const j={class:"flex items-center justify-between mb-8 h-14"},F=e("span",{class:"font-bold text-2xl"},"Cuentas",-1),G=e("option",{value:"ACTIVO"},"Activo",-1),L=e("option",{value:"INACTIVO"},"Inactivo",-1),D={class:"flex justify-end gap-4"},H=e("th",null,"#",-1),J=e("th",null,"Tipo",-1),K=e("th",null,"Cuenta",-1),Q=e("th",null,"Propietario",-1),R=e("th",null,"Estado",-1),W=e("th",null,"Acciones",-1),X={key:0},Y=e("td",{colspan:"5",class:"text-center"},"No hay datos que mostrar",-1),Z=[Y],ee={class:"bg-edo-50 px-2 py-1 rounded-lg"},te={class:"flex gap-4"},oe=["onClick"],ie=N({__name:"AccountView",setup(le){const{getAccounts:C,accounts:h,storeAccount:k,processing:A,updateAccount:T,destroyAccount:se}=S(),r=m(!1),d=m(!1);I(()=>{C()});const t=m({id:"",type:"",number:"",holder:"",status:""}),i=()=>{r.value=!1,d.value=!1,t.value={id:"",type:"",number:"",holder:"",status:""}};function $(){if(!t.value.type){f.error("El tipo es requerido");return}if(!t.value.number){f.error("La cuenta es requerida");return}if(!t.value.holder){f.error("El propietario es requerido");return}d.value?T(t.value,()=>i()):k(t.value,()=>i())}function E(b){t.value={...b},d.value=!0,r.value=!0}return(b,l)=>(u(),c(x,null,[e("header",j,[F,s(V,{onClick:l[0]||(l[0]=o=>r.value=!0)},{default:a(()=>[p(" Nueva ")]),_:1})]),s(q,{title:"Precio",isOpen:r.value,onOnClose:i},{default:a(()=>[e("form",{onSubmit:l[5]||(l[5]=z(o=>$(),["prevent"]))},[s(v,{text:"Tipo (Banco)",name:"type",modelValue:t.value.type,"onUpdate:modelValue":l[1]||(l[1]=o=>t.value.type=o)},null,8,["modelValue"]),s(v,{text:"Cuenta",name:"number",modelValue:t.value.number,"onUpdate:modelValue":l[2]||(l[2]=o=>t.value.number=o)},null,8,["modelValue"]),s(v,{text:"Propietario",name:"holder",modelValue:t.value.holder,"onUpdate:modelValue":l[3]||(l[3]=o=>t.value.holder=o)},null,8,["modelValue"]),t.value.id?(u(),O(w,{key:0,text:"Estado",name:"status",modelValue:t.value.status,"onUpdate:modelValue":l[4]||(l[4]=o=>t.value.status=o)},{default:a(()=>[G,L]),_:1},8,["modelValue"])):g("",!0),e("div",D,[s(U,{onClick:i},{default:a(()=>[p("Cancelar")]),_:1}),s(V,{type:"submit",loading:_(A)},{default:a(()=>[p(n(d.value?"Actualizar":"Guardar"),1)]),_:1},8,["loading"])])],32)]),_:1},8,["isOpen"]),s(B,null,{header:a(()=>[H,J,K,Q,R,W]),body:a(()=>[_(h).length?g("",!0):(u(),c("tr",X,Z)),(u(!0),c(x,null,M(_(h),(o,y)=>(u(),c("tr",{key:y,class:"hover:bg-gray-50"},[e("td",null,n(y+1),1),e("td",null,n(o.type),1),e("td",null,n(o.number),1),e("td",null,n(o.holder),1),e("td",null,[e("span",ee,n(o.status),1)]),e("td",null,[e("div",te,[e("button",{type:"button",onClick:ae=>E(o)},[s(_(P),{size:"20"})],8,oe)])])]))),128))]),_:1})],64))}});export{ie as default};
