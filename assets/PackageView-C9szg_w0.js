import{b as T,r as _,o as $,w as N,e as u,m as l,n as m,_ as S,i as d,f as a,p as y,h as x,F as c,g as v,k as n,q as O,v as b,x as W,G as A,t as k,l as E,I as R}from"./index-ikaeWfkH.js";import{u as B,_ as G}from"./usePackage-BPNfu7fI.js";import{_ as i}from"./InputForm.vue_vue_type_script_setup_true_lang-C3toEXwb.js";import{_ as F}from"./PaginationComponent.vue_vue_type_script_setup_true_lang-4r7A35yT.js";import{u as M}from"./usePrice-Xde9cX99.js";import"./query-params-C5SC1Cld.js";const j=["REGISTRADO","FACTURADO"],z=d("header",{class:"flex items-center justify-between mb-8 h-14"},[d("span",{class:"font-bold text-2xl"},"Paquetes")],-1),L={class:"flex justify-end gap-4"},H={class:"grid grid-cols-4 gap-4 mb-4"},J=d("option",{value:""},"Todos",-1),K=["value"],Q=d("option",{value:""},"Todos",-1),X=["value"],Y={key:0,class:"text-center my-3 text-gray-400"},Z={key:1,class:"grid grid-cols-2 xl:grid-cols-3 gap-4 mb-4"},ue=T({__name:"PackageView",setup(ee){const{getPackages:g,packages:r,queryParams:o,processing:P,updatePackage:D}=B(),{prices:U,getPrices:h}=M(),f=_(!1),s=_({guide:"",client:"",description:"",pieces:0,grossWeight:0,entryDate:""});$(()=>{g(),h()}),N(o.value,()=>g(),{debounce:700,maxWait:1e3});function q(p){o.value.page=p}function C(p){s.value={...p},f.value=!0}function V(){s.value={guide:"",client:"",description:"",pieces:0,grossWeight:0,entryDate:""},f.value=!1}function w(){D(s.value,()=>{V(),g()})}return(p,t)=>(n(),u(c,null,[z,l(S,{title:"Paquete",isOpen:f.value,onOnClose:V},{default:m(()=>[d("form",{onSubmit:t[4]||(t[4]=A(e=>w(),["prevent"]))},[l(i,{text:"Cliente",name:"client",modelValue:s.value.client,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value.client=e),required:""},null,8,["modelValue"]),l(i,{text:"Descripción",name:"description",modelValue:s.value.description,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value.description=e),required:""},null,8,["modelValue"]),l(i,{text:"Piezas",name:"pieces",modelValue:s.value.pieces,"onUpdate:modelValue":t[2]||(t[2]=e=>s.value.pieces=e),type:"number",required:""},null,8,["modelValue"]),l(i,{text:"Peso (lbs)",name:"grossWeight",modelValue:s.value.grossWeight,"onUpdate:modelValue":t[3]||(t[3]=e=>s.value.grossWeight=e),type:"number",required:""},null,8,["modelValue"]),d("div",L,[l(O,{onClick:V},{default:m(()=>[b("Cancelar")]),_:1}),l(W,{type:"submit",loading:a(P)},{default:m(()=>[b(" Actualizar ")]),_:1},8,["loading"])])],32)]),_:1},8,["isOpen"]),d("div",H,[l(i,{text:"Guía",name:"guide",modelValue:a(o).guide,"onUpdate:modelValue":t[5]||(t[5]=e=>a(o).guide=e),placeholder:"Número de guia",type:"number"},null,8,["modelValue"]),l(i,{text:"Cliente",name:"client",modelValue:a(o).client,"onUpdate:modelValue":t[6]||(t[6]=e=>a(o).client=e),placeholder:"Nombre del cliente"},null,8,["modelValue"]),l(y,{text:"Tipo",name:"type",modelValue:a(o).type,"onUpdate:modelValue":t[7]||(t[7]=e=>a(o).type=e)},{default:m(()=>[J,(n(!0),u(c,null,v(a(U),e=>(n(),u("option",{value:e.type,key:e.id},k(e.type),9,K))),128))]),_:1},8,["modelValue"]),l(y,{text:"Estado",name:"status",modelValue:a(o).status,"onUpdate:modelValue":t[8]||(t[8]=e=>a(o).status=e)},{default:m(()=>[Q,(n(!0),u(c,null,v(a(j),e=>(n(),u("option",{value:e,key:e},k(e),9,X))),128))]),_:1},8,["modelValue"]),l(i,{text:"Ingreso",name:"entryDate",modelValue:a(o).entryDate,"onUpdate:modelValue":t[9]||(t[9]=e=>a(o).entryDate=e),type:"date"},null,8,["modelValue"])]),a(r).data.length?x("",!0):(n(),u("div",Y," No hay datos que mostrar ")),a(r).data.length?(n(),u("div",Z,[(n(!0),u(c,null,v(a(r).data,(e,I)=>(n(),E(G,{item:e,key:I,showIcon:e.status==="REGISTRADO",icon:a(R),onSelectedItem:C},null,8,["item","showIcon","icon"]))),128))])):x("",!0),l(F,{pages:a(r).pages,page:a(r).current,onSelected:q},null,8,["pages","page"])],64))}});export{ue as default};
