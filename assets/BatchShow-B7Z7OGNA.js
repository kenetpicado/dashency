import{b as I,o as S,r as x,D as W,e as m,m as l,n as _,_ as E,i,F as V,g as y,f as n,l as b,y as N,h as C,E as O,k as o,q as T,v as $,x as U,G as j,I as A,j as F}from"./index-ikaeWfkH.js";import{_ as M}from"./StatCard.vue_vue_type_script_setup_true_lang-BPAXgKY0.js";import{u as R}from"./useBatch-BvTGpyG9.js";import{u as z,_ as G}from"./usePackage-BPNfu7fI.js";import{_ as p}from"./InputForm.vue_vue_type_script_setup_true_lang-C3toEXwb.js";import"./query-params-C5SC1Cld.js";const L=i("header",{class:"flex items-center justify-between mb-8 h-14"},[i("span",{class:"font-bold text-2xl"},"Detalles")],-1),H={class:"flex justify-end gap-4"},J={class:"grid grid-cols-4 gap-2 mb-4"},K={class:"mb-4 bg-white p-4 rounded-xl border"},Q={key:0,class:"grid grid-cols-2 xl:grid-cols-3 gap-4"},le=I({__name:"BatchShow",setup(X){const h=O(),{getBatch:k,batch:s}=R(),{updatePackage:q,processing:w}=z();S(()=>k(h.params.id));const g=x(!1),a=x({guide:"",client:"",description:"",pieces:0,grossWeight:0,entryDate:""}),B=W(()=>{var u,e,r,d,c;return[{title:"Tipo",value:((u=s.value)==null?void 0:u.type)||""},{title:"Total",value:"$ "+((e=s.value)==null?void 0:e.total)||""},{title:"Paquetes",value:((r=s.value)==null?void 0:r.packages.length)||"0"},{title:"Código o referencia",value:((d=s.value)==null?void 0:d.code)||""},{title:"Creado",value:F((c=s.value)==null?void 0:c.createdAt)||""}]});function D(u){a.value={...u},g.value=!0}function f(){a.value={guide:"",client:"",description:"",pieces:0,grossWeight:0,entryDate:""},g.value=!1}function P(){q(a.value,()=>{f(),k(h.params.id)})}return(u,e)=>{var r,d,c;return o(),m(V,null,[L,l(E,{title:"Paquete",isOpen:g.value,onOnClose:f},{default:_(()=>[i("form",{onSubmit:e[4]||(e[4]=j(t=>P(),["prevent"]))},[l(p,{text:"Cliente",name:"client",modelValue:a.value.client,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.client=t),required:""},null,8,["modelValue"]),l(p,{text:"Descripción",name:"description",modelValue:a.value.description,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.description=t),required:""},null,8,["modelValue"]),l(p,{text:"Piezas",name:"pieces",modelValue:a.value.pieces,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.pieces=t),type:"number",required:""},null,8,["modelValue"]),l(p,{text:"Peso (lbs)",name:"grossWeight",modelValue:a.value.grossWeight,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.grossWeight=t),type:"number",required:""},null,8,["modelValue"]),i("div",H,[l(T,{onClick:f},{default:_(()=>[$("Cancelar")]),_:1}),l(U,{type:"submit",loading:n(w)},{default:_(()=>[$(" Actualizar ")]),_:1},8,["loading"])])],32)]),_:1},8,["isOpen"]),i("main",J,[(o(!0),m(V,null,y(B.value,(t,v)=>(o(),b(M,{stat:t,key:v},null,8,["stat"]))),128))]),i("div",K,[(r=n(s))!=null&&r.user?(o(),b(N,{key:0,item:n(s).user},null,8,["item"])):C("",!0)]),(d=n(s))!=null&&d.packages?(o(),m("div",Q,[(o(!0),m(V,null,y((c=n(s))==null?void 0:c.packages,(t,v)=>(o(),b(G,{item:t,key:v,showIcon:t.status==="REGISTRADO",icon:n(A),onSelectedItem:D},null,8,["item","showIcon","icon"]))),128))])):C("",!0)],64)}}});export{le as default};
