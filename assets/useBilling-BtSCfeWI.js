import{d as B,r as s,s as h,a as i,z as y,J as v}from"./index-ikaeWfkH.js";import{c as u}from"./query-params-C5SC1Cld.js";const g=B("billing",()=>{const n=s({data:[],pages:1,current:1}),l=s();function o(t){n.value=t}function c(t){l.value=t}return{billing:n,setBilling:o,bill:l,setBill:c}});function q(){const{setBilling:n,setBill:l}=g(),{billing:o,bill:c}=h(g()),t=s(!1),r=s({date:"",reference:"",client:"",account:"",page:1,timezoneOffset:new Date().getTimezoneOffset()});function f(){const a=u(r.value);i.get("/billing",{params:a}).then(e=>{n(e.data)}).catch(e=>{console.log(e)})}async function p(){const a=u(r.value);await i.get("/billing-day",{params:a}).then(e=>{const b={data:e.data,pages:1,current:1};n(b)}).catch(e=>{console.log(e)})}async function m(a){await i.get("/billing/"+a).then(e=>{l(e.data)}).catch(e=>{console.log(e)})}function d(a){t.value=!0,i.post("/billing",a).then(e=>{y.success("Factura creada correctamente"),v.push({name:"billing.show",params:{id:e.data.id},query:{action:"print"}})}).finally(()=>{t.value=!1})}return{getBilling:f,billing:o,processing:t,storeBilling:d,queryParams:r,getBill:m,bill:c,getBillingDay:p}}export{q as u};
